<!-- Code generated by gomarkdoc. DO NOT EDIT -->

# checks

```go
import "github.com/brpaz/lib-go/health/checks"
```

Package checks provides a set of common health checks that can be used in Go services. \(Ex: Url check, Database check, etc.\) Every check must implement the Checker interface.

## Index

- [type DBCheck](<#DBCheck>)
  - [func NewDBCheck\(name string, db \*sql.DB\) \*DBCheck](<#NewDBCheck>)
  - [func \(d \*DBCheck\) Check\(ctx context.Context\) health.CheckResult](<#DBCheck.Check>)
  - [func \(d \*DBCheck\) GetName\(\) string](<#DBCheck.GetName>)
- [type StubCheck](<#StubCheck>)
  - [func NewStubCheck\(name string, result bool\) \*StubCheck](<#NewStubCheck>)
  - [func \(s \*StubCheck\) Check\(ctx context.Context\) health.CheckResult](<#StubCheck.Check>)
  - [func \(s \*StubCheck\) GetName\(\) string](<#StubCheck.GetName>)
- [type URLCheck](<#URLCheck>)
  - [func NewURLCheck\(name string, opts ...UrlCheckOption\) \(\*URLCheck, error\)](<#NewURLCheck>)
  - [func \(c \*URLCheck\) Check\(ctx context.Context\) health.CheckResult](<#URLCheck.Check>)
  - [func \(c \*URLCheck\) GetName\(\) string](<#URLCheck.GetName>)
  - [func \(c \*URLCheck\) Validate\(\) error](<#URLCheck.Validate>)
- [type UrlCheckOption](<#UrlCheckOption>)
  - [func WithURLCheckHTTPClient\(client \*http.Client\) UrlCheckOption](<#WithURLCheckHTTPClient>)
  - [func WithURLCheckTimeout\(timeout time.Duration\) UrlCheckOption](<#WithURLCheckTimeout>)
  - [func WithURLCheckURL\(url url.URL\) UrlCheckOption](<#WithURLCheckURL>)
  - [func WithURLCheckValidStatusCodes\(codes \[\]int\) UrlCheckOption](<#WithURLCheckValidStatusCodes>)


<a name="DBCheck"></a>
## type [DBCheck](<https://github.com/brpaz/lib-go/blob/main/health/checks/db.go#L12-L15>)

DBCheck is a health check that verifies the availability of a database connection

```go
type DBCheck struct {
    // contains filtered or unexported fields
}
```

<a name="NewDBCheck"></a>
### func [NewDBCheck](<https://github.com/brpaz/lib-go/blob/main/health/checks/db.go#L18>)

```go
func NewDBCheck(name string, db *sql.DB) *DBCheck
```

NewDBCheck creates a new DBCheck instance with the provided parameters

<a name="DBCheck.Check"></a>
### func \(\*DBCheck\) [Check](<https://github.com/brpaz/lib-go/blob/main/health/checks/db.go#L31>)

```go
func (d *DBCheck) Check(ctx context.Context) health.CheckResult
```

Check verifies the availability of the database connection

<a name="DBCheck.GetName"></a>
### func \(\*DBCheck\) [GetName](<https://github.com/brpaz/lib-go/blob/main/health/checks/db.go#L26>)

```go
func (d *DBCheck) GetName() string
```

GetName returns the name of the check

<a name="StubCheck"></a>
## type [StubCheck](<https://github.com/brpaz/lib-go/blob/main/health/checks/stub.go#L11-L14>)

StubCheck is a stub health check that returns a fixed result

```go
type StubCheck struct {
    // contains filtered or unexported fields
}
```

<a name="NewStubCheck"></a>
### func [NewStubCheck](<https://github.com/brpaz/lib-go/blob/main/health/checks/stub.go#L17>)

```go
func NewStubCheck(name string, result bool) *StubCheck
```

NewStubCheck creates a new StubCheck instance with the provided result

<a name="StubCheck.Check"></a>
### func \(\*StubCheck\) [Check](<https://github.com/brpaz/lib-go/blob/main/health/checks/stub.go#L30>)

```go
func (s *StubCheck) Check(ctx context.Context) health.CheckResult
```

Check returns an error if the Result field is false

<a name="StubCheck.GetName"></a>
### func \(\*StubCheck\) [GetName](<https://github.com/brpaz/lib-go/blob/main/health/checks/stub.go#L25>)

```go
func (s *StubCheck) GetName() string
```

GetName returns the name of the check

<a name="URLCheck"></a>
## type [URLCheck](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L17-L23>)

URLCheck is a health check that verifies the availability of a URL

```go
type URLCheck struct {
    // contains filtered or unexported fields
}
```

<a name="NewURLCheck"></a>
### func [NewURLCheck](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L56>)

```go
func NewURLCheck(name string, opts ...UrlCheckOption) (*URLCheck, error)
```

NewURLCheck creates a new URLCheck instance with the provided parameters

<a name="URLCheck.Check"></a>
### func \(\*URLCheck\) [Check](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L93>)

```go
func (c *URLCheck) Check(ctx context.Context) health.CheckResult
```

Check returns an error if the Result field is false

<a name="URLCheck.GetName"></a>
### func \(\*URLCheck\) [GetName](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L88>)

```go
func (c *URLCheck) GetName() string
```

GetName returns the name of the check

<a name="URLCheck.Validate"></a>
### func \(\*URLCheck\) [Validate](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L75>)

```go
func (c *URLCheck) Validate() error
```



<a name="UrlCheckOption"></a>
## type [UrlCheckOption](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L26>)

Option is a function that configures the HealthService.

```go
type UrlCheckOption func(*URLCheck)
```

<a name="WithURLCheckHTTPClient"></a>
### func [WithURLCheckHTTPClient](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L43>)

```go
func WithURLCheckHTTPClient(client *http.Client) UrlCheckOption
```

WithURLCheckHTTPClient sets the HTTP client to be used by the URLCheck

<a name="WithURLCheckTimeout"></a>
### func [WithURLCheckTimeout](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L29>)

```go
func WithURLCheckTimeout(timeout time.Duration) UrlCheckOption
```

WithURLCheckTimeout sets the timeout for the URLCheck

<a name="WithURLCheckURL"></a>
### func [WithURLCheckURL](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L36>)

```go
func WithURLCheckURL(url url.URL) UrlCheckOption
```

WithURLCheckURL sets the target URL for the URLCheck

<a name="WithURLCheckValidStatusCodes"></a>
### func [WithURLCheckValidStatusCodes](<https://github.com/brpaz/lib-go/blob/main/health/checks/url.go#L49>)

```go
func WithURLCheckValidStatusCodes(codes []int) UrlCheckOption
```



Generated by [gomarkdoc](<https://github.com/princjef/gomarkdoc>)
